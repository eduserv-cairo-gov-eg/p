<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ù„Ù‚ GAD-7 Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 0;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-top: 20px;
            font-size: 28px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .intro-section, .test-section, .popup {
            display: none;
        }
        .intro-section.active, .test-section.active, .popup.active {
            display: block;
        }
        .question {
            margin-bottom: 25px;
        }
        .question p {
            font-weight: bold;
            color: #34495e;
            font-size: 18px;
        }
        .options {
            margin-right: 20px;
        }
        .options label {
            display: block;
            margin-bottom: 10px;
            font-size: 16px;
            color: #555;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        button {
            display: block;
            margin: 30px auto;
            padding: 12px 30px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 25px; /* Curved buttons */
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #2980b9;
        }
        .popup {
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            background-color: #ecf0f1;
            color: #2c3e50;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .result {
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .advice {
            font-size: 16px;
            margin-bottom: 15px;
            color: #27ae60;
        }
        .support-message {
            font-size: 16px;
            margin-bottom: 15px;
            color: #e67e22;
        }
        .support-section {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #e74c3c;
            color: white;
            border-radius: 10px;
            text-align: center;
        }
        .support-section p {
            margin: 0;
            font-size: 16px;
        }
        .support-section a {
            color: #f1c40f;
            text-decoration: none;
            font-weight: bold;
        }
        .support-section a:hover {
            text-decoration: underline;
        }

        .chatbot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: none;
        }
        .chatbot-header {
            background-color: #3498db;
            color: white;
            padding: 10px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chatbot-header span {
            font-weight: bold;
        }
        .chatbot-header button {
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        .chatbot-body {
            padding: 10px;
            height: 200px;
            overflow-y: auto;
            border-bottom: 1px solid #ccc;
        }
        .chatbot-input {
            display: flex;
            padding: 10px;
        }
        .chatbot-input input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-right: 10px;
        }
        .chatbot-input button {
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .chatbot-input button:hover {
            background-color: #2980b9;
        }
        .message {
            margin-bottom: 10px;
        }
        .message.user {
            text-align: left;
        }
        .message.bot {
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ù„Ù‚ GAD-7 Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©</h1>

        <!-- Introductory Section -->
        <div class="intro-section active" id="introSection">
            <div class="question">
                <p>1. Ù…Ø§ Ù‡Ùˆ Ø¹Ù…Ø±ÙƒØŸ</p>
                <div class="options">
                    <label><input type="radio" name="age" value="lessThan18"> Ø£Ù‚Ù„ Ù…Ù† 18 Ø³Ù†Ø©</label>
                    <label><input type="radio" name="age" value="18-24"> Ø¨ÙŠÙ† 18 Ùˆ 24 Ø³Ù†Ø©</label>
                    <label><input type="radio" name="age" value="25-34"> Ø¨ÙŠÙ† 25 Ùˆ 34 Ø³Ù†Ø©</label>
                    <label><input type="radio" name="age" value="35-44"> Ø¨ÙŠÙ† 35 Ùˆ 44 Ø³Ù†Ø©</label>
                    <label><input type="radio" name="age" value="45+"> 45 Ø³Ù†Ø© Ø£Ùˆ Ø£ÙƒØ«Ø±</label>
                </div>
            </div>
            <div class="question">
                <p>2. Ù…Ø§ Ù‡ÙŠ Ø¬Ù†Ø³ÙŠØªÙƒØŸ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</p>
                <input type="text" name="nationality" placeholder="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©">
            </div>
            <div class="question">
                <p>3. Ù…Ø§ Ù‡Ùˆ Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØŸ</p>
                <div class="options">
                    <label><input type="radio" name="education" value="highSchoolStudent"> Ø·Ø§Ù„Ø¨/Ø·Ø§Ù„Ø¨Ø© Ø«Ø§Ù†ÙˆÙŠ</label>
                    <label><input type="radio" name="education" value="universityStudent"> Ø·Ø§Ù„Ø¨/Ø·Ø§Ù„Ø¨Ø© Ø¬Ø§Ù…Ø¹ÙŠ</label>
                    <label><input type="radio" name="education" value="universityGraduate"> Ø®Ø±ÙŠØ¬/Ø®Ø±ÙŠØ¬Ø© Ø¬Ø§Ù…Ø¹Ø©</label>
                    <label><input type="radio" name="education" value="lessThanHighSchool"> Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</label>
                    <label><input type="radio" name="education" value="other"> Ø£Ø®Ø±Ù‰ (ÙŠØ±Ø¬Ù‰ Ø°ÙƒØ±Ù‡Ø§)</label>
                    <input type="text" name="educationOther" placeholder="Ø§Ø°ÙƒØ±Ù‡Ø§ Ù‡Ù†Ø§" style="display: none;">
                </div>
            </div>
            <div class="question">
                <p>4. Ù‡Ù„ Ø³Ø¨Ù‚ Ù„Ùƒ Ø§Ø³ØªØ´Ø§Ø±Ø© Ø·Ø¨ÙŠØ¨ Ù†ÙØ³ÙŠ Ø£Ùˆ Ù…Ø¹Ø§Ù„Ø¬ Ù†ÙØ³ÙŠØŸ</p>
                <div class="options">
                    <label><input type="radio" name="consultation" value="yesRegularly"> Ù†Ø¹Ù…ØŒ Ø¨Ø§Ù†ØªØ¸Ø§Ù…</label>
                    <label><input type="radio" name="consultation" value="yesShortPeriod"> Ù†Ø¹Ù…ØŒ ÙˆÙ„ÙƒÙ† Ù„ÙØªØ±Ø© Ù‚ØµÙŠØ±Ø©</label>
                    <label><input type="radio" name="consultation" value="noButThinking"> Ù„Ø§ØŒ ÙˆÙ„ÙƒÙ† Ø£ÙÙƒØ± ÙÙŠ Ø°Ù„Ùƒ</label>
                    <label><input type="radio" name="consultation" value="noNotNeeded"> Ù„Ø§ØŒ ÙˆÙ„Ø§ Ø£Ø­ØªØ§Ø¬ Ù„Ø°Ù„Ùƒ</label>
                </div>
            </div>
            <div class="question">
                <p>5. Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ«Ø± Ø´ÙŠØ¡ ÙŠØ¬Ø¹Ù„Ùƒ ØªØªØ¬Ù†Ø¨ Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ù†ÙØ³ÙŠØ©ØŸ</p>
                <div class="options">
                    <label><input type="radio" name="barrier" value="highCost"> Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ©</label>
                    <label><input type="radio" name="barrier" value="fearOfSociety"> Ø§Ù„Ø®ÙˆÙ Ù…Ù† Ù†Ø¸Ø±Ø© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹</label>
                    <label><input type="radio" name="barrier" value="notKnowingWhere"> Ø¹Ø¯Ù… Ù…Ø¹Ø±ÙØ© Ø£ÙŠÙ† Ø£Ø°Ù‡Ø¨</label>
                    <label><input type="radio" name="barrier" value="doNotNeed"> Ù„Ø§ Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù†Ù†ÙŠ Ø¨Ø­Ø§Ø¬Ø© Ù„Ø°Ù„Ùƒ</label>
                    <label><input type="radio" name="barrier" value="other"> Ø£Ø³Ø¨Ø§Ø¨ Ø£Ø®Ø±Ù‰ (ÙŠØ±Ø¬Ù‰ Ø°ÙƒØ±Ù‡Ø§)</label>
                    <input type="text" name="barrierOther" placeholder="Ø§Ø°ÙƒØ±Ù‡Ø§ Ù‡Ù†Ø§" style="display: none;">
                </div>
            </div>
            <div class="question">
                <p>6. Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù…ÙƒØŸ</p>
                <input type="text" name="name" placeholder="Ø§Ù„Ø§Ø³Ù…">
            </div>
            <div class="question">
                <p>7. Ù…Ø§ Ù‡Ùˆ Ø¬Ù†Ø³ÙƒØŸ</p>
                <div class="options">
                    <label><input type="radio" name="gender" value="male"> Ø°ÙƒØ±</label>
                    <label><input type="radio" name="gender" value="female"> Ø£Ù†Ø«Ù‰</label>
                </div>
            </div>
            <button type="button" onclick="startTest()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
        </div>

        <!-- Test Section -->
        <div class="test-section" id="testSection">
            <form id="gad7Form">
                <div class="question">
                    <p>1. Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙØ§ØªÙˆØ§ØŒ Ø¨ØªØ­Ø³ Ø¥Ù†Ùƒ Ù‚Ù„Ù‚Ø§Ù† Ø£Ùˆ Ù…ØªÙˆØªØ±ØŸ</p>
                    <div class="options">
                        <label><input type="radio" name="q1" value="0"> ÙˆÙ„Ø§ Ù…Ø±Ø©</label>
                        <label><input type="radio" name="q1" value="1"> ÙƒØ§Ù… ÙŠÙˆÙ…</label>
                        <label><input type="radio" name="q1" value="2"> Ø£ÙƒØªØ± Ù…Ù† Ù†Øµ Ø§Ù„ÙˆÙ‚Øª</label>
                        <label><input type="radio" name="q1" value="3"> ÙƒÙ„ ÙŠÙˆÙ… ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</label>
                    </div>
                </div>
                <div class="question">
                    <p>2. Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙØ§ØªÙˆØ§ØŒ Ù…Ø´ Ù‚Ø§Ø¯Ø± ØªØ³ÙŠØ·Ø± Ø¹Ù„Ù‰ Ù‚Ù„Ù‚Ùƒ Ø£Ùˆ ØªØ¨Ø·Ù‘Ù„ Ø§Ù„ØªÙÙƒÙŠØ± ÙÙŠ Ø­Ø§Ø¬Ø§Øª Ø¨ØªÙ‚Ù„Ù‚ÙƒØŸ</p>
                    <div class="options">
                        <label><input type="radio" name="q2" value="0"> ÙˆÙ„Ø§ Ù…Ø±Ø©</label>
                        <label><input type="radio" name="q2" value="1"> ÙƒØ§Ù… ÙŠÙˆÙ…</label>
                        <label><input type="radio" name="q2" value="2"> Ø£ÙƒØªØ± Ù…Ù† Ù†Øµ Ø§Ù„ÙˆÙ‚Øª</label>
                        <label><input type="radio" name="q2" value="3"> ÙƒÙ„ ÙŠÙˆÙ… ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</label>
                    </div>
                </div>
                <div class="question">
                    <p>3. Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙØ§ØªÙˆØ§ØŒ Ø¨ØªÙ‚Ù„Ù‚ Ù…Ù† Ø­Ø§Ø¬Ø§Øª ÙƒØªÙŠØ± ÙˆÙ…Ø´ Ù‚Ø§Ø¯Ø± ØªÙ‡Ø¯Ù‰ØŸ</p>
                    <div class="options">
                        <label><input type="radio" name="q3" value="0"> ÙˆÙ„Ø§ Ù…Ø±Ø©</label>
                        <label><input type="radio" name="q3" value="1"> ÙƒØ§Ù… ÙŠÙˆÙ…</label>
                        <label><input type="radio" name="q3" value="2"> Ø£ÙƒØªØ± Ù…Ù† Ù†Øµ Ø§Ù„ÙˆÙ‚Øª</label>
                        <label><input type="radio" name="q3" value="3"> ÙƒÙ„ ÙŠÙˆÙ… ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</label>
                    </div>
                </div>
                <div class="question">
                    <p>4. Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙØ§ØªÙˆØ§ØŒ Ø­Ø§Ø³Ø³ Ø¥Ù†Ùƒ Ù…Ø´ Ø¹Ø§Ø±Ù ØªØ³ØªØ±Ø®ÙŠ Ø£Ùˆ ØªÙØµÙ„ Ø¯Ù…Ø§ØºÙƒØŸ</p>
                    <div class="options">
                        <label><input type="radio" name="q4" value="0"> ÙˆÙ„Ø§ Ù…Ø±Ø©</label>
                        <label><input type="radio" name="q4" value="1"> ÙƒØ§Ù… ÙŠÙˆÙ…</label>
                        <label><input type="radio" name="q4" value="2"> Ø£ÙƒØªØ± Ù…Ù† Ù†Øµ Ø§Ù„ÙˆÙ‚Øª</label>
                        <label><input type="radio" name="q4" value="3"> ÙƒÙ„ ÙŠÙˆÙ… ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</label>
                    </div>
                </div>
                <div class="question">
                    <p>5. Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙØ§ØªÙˆØ§ØŒ Ø¨ØªØ­Ø³ Ø¥Ù†Ùƒ Ù…ØªÙˆØªØ± Ù„Ø¯Ø±Ø¬Ø© Ù…Ø´ Ù‚Ø§Ø¯Ø± ØªÙ‚Ø¹Ø¯ Ù…Ø³ØªØ±ÙŠØ­ØŸ</p>
                    <div class="options">
                        <label><input type="radio" name="q5" value="0"> ÙˆÙ„Ø§ Ù…Ø±Ø©</label>
                        <label><input type="radio" name="q5" value="1"> ÙƒØ§Ù… ÙŠÙˆÙ…</label>
                        <label><input type="radio" name="q5" value="2"> Ø£ÙƒØªØ± Ù…Ù† Ù†Øµ Ø§Ù„ÙˆÙ‚Øª</label>
                        <label><input type="radio" name="q5" value="3"> ÙƒÙ„ ÙŠÙˆÙ… ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</label>
                    </div>
                </div>
                <div class="question">
                    <p>6. Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙØ§ØªÙˆØ§ØŒ Ø¨ØªØªÙ†Ø±ÙØ² Ø£Ùˆ ØªØªØ¹ØµØ¨ Ø¨Ø³Ø±Ø¹Ø©ØŸ</p>
                    <div class="options">
                        <label><input type="radio" name="q6" value="0"> ÙˆÙ„Ø§ Ù…Ø±Ø©</label>
                        <label><input type="radio" name="q6" value="1"> ÙƒØ§Ù… ÙŠÙˆÙ…</label>
                        <label><input type="radio" name="q6" value="2"> Ø£ÙƒØªØ± Ù…Ù† Ù†Øµ Ø§Ù„ÙˆÙ‚Øª</label>
                        <label><input type="radio" name="q6" value="3"> ÙƒÙ„ ÙŠÙˆÙ… ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</label>
                    </div>
                </div>
                <div class="question">
                    <p>7. Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙØ§ØªÙˆØ§ØŒ Ø­Ø§Ø³Ø³ Ø¨Ø®ÙˆÙ ÙƒØ£Ù† ÙÙŠÙ‡ Ø­Ø§Ø¬Ø© ÙˆØ­Ø´Ø© Ù‡ØªØ­ØµÙ„ØŸ</p>
                    <div class="options">
                        <label><input type="radio" name="q7" value="0"> ÙˆÙ„Ø§ Ù…Ø±Ø©</label>
                        <label><input type="radio" name="q7" value="1"> ÙƒØ§Ù… ÙŠÙˆÙ…</label>
                        <label><input type="radio" name="q7" value="2"> Ø£ÙƒØªØ± Ù…Ù† Ù†Øµ Ø§Ù„ÙˆÙ‚Øª</label>
                        <label><input type="radio" name="q7" value="3"> ÙƒÙ„ ÙŠÙˆÙ… ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</label>
                    </div>
                </div>
            </form>
            <button type="button" onclick="calculateScore()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
        </div>

        <!-- Chatbot -->
        <div class="chatbot" id="chatbot">
            <div class="chatbot-header">
                <span>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù†ÙØ³ÙŠ</span>
                <button onclick="toggleChatbot()">&#10005;</button> <!-- Close button -->
            </div>
            <div class="chatbot-body" id="chatbotBody">
                <div class="message bot">Ø£Ù‡Ù„Ø§Ù‹! Ø£Ù†Ø§ Ù‡Ù†Ø§ Ø¹Ù„Ø´Ø§Ù† Ø£Ø³Ø§Ø¹Ø¯Ùƒ. Ù…Ù…ÙƒÙ† ØªØ­ÙƒÙŠÙ„Ù†Ø§ Ø¹Ù† Ù…Ø´ÙƒÙ„ØªÙƒØŸ</div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...">
                <button onclick="sendMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
            </div>
        </div>

        <!-- Chatbot Button on the Left -->
        <button onclick="toggleChatbot()" style="position: fixed; bottom: 20px; left: 20px; padding: 10px 20px; background-color: #3498db; color: white; border: none; border-radius: 25px; cursor: pointer;">Ø§ÙØªØ­ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</button>

        <!-- Result Popup -->
        <div class="popup" id="popup">
            <div class="result" id="result"></div>
            <div class="advice" id="advice"></div>
            <div class="support-message" id="supportMessage"></div>
            <button type="button" onclick="toggleSupport()" id="supportButton">Ø£Ù†Ø§ Ù…Ø­ØªØ§Ø¬ Ø¯Ø¹Ù…</button>
            <div class="support-section" id="supportSection">
                <p>Ù„Ùˆ Ù…Ø­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø©ØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹ <a href="https://www.example.com" target="_blank">Ù…Ø±ÙƒØ² Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù†ÙØ³ÙŠ</a> Ø£Ùˆ Ø§ØªØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… 12345.</p>
            </div>
        </div>
    </div>

    <script>
        // Show/hide "other" input fields
        document.querySelector('input[name="education"][value="other"]').addEventListener('change', function() {
            document.querySelector('input[name="educationOther"]').style.display = this.checked ? 'block' : 'none';
        });
        document.querySelector('input[name="barrier"][value="other"]').addEventListener('change', function() {
            document.querySelector('input[name="barrierOther"]').style.display = this.checked ? 'block' : 'none';
        });

        // Start the test
        function startTest() {
            document.getElementById('introSection').classList.remove('active');
            document.getElementById('testSection').classList.add('active');
        }

        // Calculate score and show result
        function calculateScore() {
            const name = document.querySelector('input[name="name"]').value;
            const gender = document.querySelector('input[name="gender"]:checked').value;
            let total = 0;
            for (let i = 1; i <= 7; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (selected) {
                    total += parseInt(selected.value);
                }
            }
            let resultText = "";
            let adviceText = "";
            let supportMessage = "";

            if (total < 5) {
                resultText = `${gender === 'male' ? 'ÙŠØ§ Ø±Ø¬Ù„' : 'ÙŠØ§ Ø¨Ù†Øª'} ${name}ØŒ Ù†ØªÙŠØ¬ØªÙƒ: Ù‚Ù„Ù‚ Ø¨Ø³ÙŠØ· Ø¬Ø¯Ù‹Ø§ Ø£Ùˆ Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯.`;
                adviceText = "Ø­Ø§Ù„ØªÙƒ Ø¬ÙŠØ¯Ø©ØŒ Ø­Ø§ÙˆÙ„ ØªØ­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø±ÙˆØªÙŠÙ† ØµØ­ÙŠ ÙˆØªØ³ØªÙ…ØªØ¹ Ø¨Ø­ÙŠØ§ØªÙƒ.";
                supportMessage = "Ø±Ø¨Ù†Ø§ ÙŠØ®Ù„ÙŠÙƒØŒ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ù„ÙŠ Ø§Ù†Øª ÙÙŠÙ‡! ğŸ˜Š";
            } else if (total < 10) {
                resultText = `${gender === 'male' ? 'ÙŠØ§ Ø±Ø¬Ù„' : 'ÙŠØ§ Ø¨Ù†Øª'} ${name}ØŒ Ù†ØªÙŠØ¬ØªÙƒ: Ù‚Ù„Ù‚ Ø®ÙÙŠÙ.`;
                adviceText = "Ø­Ø§ÙˆÙ„ ØªØ±ÙƒØ² Ø¹Ù„Ù‰ ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ±Ø®Ø§Ø¡ Ù…Ø«Ù„ Ø§Ù„ØªÙ†ÙØ³ Ø§Ù„Ø¹Ù…ÙŠÙ‚ Ø£Ùˆ Ø§Ù„ÙŠÙˆØ¬Ø§.";
                supportMessage = "Ù…ØªÙÙƒØ±Ø´ ÙƒØªÙŠØ±ØŒ ÙƒÙ„Ù‡Ø§ ÙØªØ±Ø© ÙˆØ¹Ø¯Øª Ù‚Ø¨Ù„ ÙƒØ¯Ù‡ ÙˆÙ‡ØªØ¹ÙˆØ¯ ØªØ§Ù†ÙŠ. Ø§Ù†Øª Ù‚ÙˆÙŠ! ğŸ’ª";
            } else if (total < 15) {
                resultText = `${gender === 'male' ? 'ÙŠØ§ Ø±Ø¬Ù„' : 'ÙŠØ§ Ø¨Ù†Øª'} ${name}ØŒ Ù†ØªÙŠØ¬ØªÙƒ: Ù‚Ù„Ù‚ Ù…ØªÙˆØ³Ø·.`;
                adviceText = "Ù„Ùˆ Ù†ØªÙŠØ¬ØªÙƒ 10 Ø£Ùˆ Ø£ÙƒØªØ±ØŒ Ù…Ù…ÙƒÙ† ÙŠÙƒÙˆÙ† Ù…Ø­ØªØ§Ø¬ ØªÙÙƒØ± Ø¥Ù†Ùƒ ØªØ§Ø®Ø¯ Ø§Ø³ØªØ´Ø§Ø±Ø© Ù…Ù† Ù…ØªØ®ØµØµ.";
                supportMessage = "Ù…ØªØ¨Ø®Ù„ÙŠØ´ Ø¹Ù„Ù‰ Ù†ÙØ³ÙƒØŒ Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ù…Ø´ Ø¹ÙŠØ¨. Ø§Ù†Øª ØªØ³ØªØ­Ù‚ ØªØ¹ÙŠØ´ Ø¨Ø³Ù„Ø§Ù…. â¤ï¸";
            } else {
                resultText = `${gender === 'male' ? 'ÙŠØ§ Ø±Ø¬Ù„' : 'ÙŠØ§ Ø¨Ù†Øª'} ${name}ØŒ Ù†ØªÙŠØ¬ØªÙƒ: Ù‚Ù„Ù‚ Ø´Ø¯ÙŠØ¯.`;
                adviceText = "ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø·Ù„Ø¨ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù…ØªØ®ØµØµØ© ÙÙŠ Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†.";
                supportMessage = "Ø±Ø¨Ù†Ø§ Ù…Ø¹Ø§ÙƒØŒ ÙˆÙ…Ø­Ø¯Ø´ ÙŠÙ‚Ø¯Ø± Ø¹Ù„ÙŠÙƒ. Ø®Ø¯ Ø®Ø·ÙˆØ© ÙˆØ±Ø§Ø­ ØªÙ„Ø§Ù‚ÙŠ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù„ÙŠ Ø§Ù†Øª Ù…Ø­ØªØ§Ø¬Ù‡. ğŸŒŸ";
            }

            document.getElementById("result").innerText = resultText;
            document.getElementById("advice").innerText = adviceText;
            document.getElementById("supportMessage").innerText = supportMessage;

            // Show the popup
            document.getElementById("popup").classList.add("active");
        }

        // Toggle support section
        function toggleSupport() {
            const supportSection = document.getElementById("supportSection");
            if (supportSection.style.display === "none" || supportSection.style.display === "") {
                supportSection.style.display = "block";
                document.getElementById("supportButton").innerText = "Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¯Ø¹Ù…";
            } else {
                supportSection.style.display = "none";
                document.getElementById("supportButton").innerText = "Ø£Ù†Ø§ Ù…Ø­ØªØ§Ø¬ Ø¯Ø¹Ù…";
            }
        }

        const chatbot = document.getElementById('chatbot');
        const chatbotBody = document.getElementById('chatbotBody');
        const chatInput = document.getElementById('chatInput');

        // Toggle chatbot visibility
        function toggleChatbot() {
            chatbot.style.display = chatbot.style.display === 'none' ? 'block' : 'none';
        }

        // Send message to Gemini API
        async function sendMessage() {
            const userMessage = chatInput.value.trim();
            if (!userMessage) return;

            // Add user message to chat
            const userMessageElement = document.createElement('div');
            userMessageElement.className = 'message user';
            userMessageElement.textContent = userMessage;
            chatbotBody.appendChild(userMessageElement);

            // Clear input
            chatInput.value = '';

            // Scroll to bottom
            chatbotBody.scrollTop = chatbotBody.scrollHeight;

            // Call Gemini API
            const apiKey = 'AIzaSyDm8hhzJx-y46wgf4JuaQdk_BW0O6IE__E';
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: `Ø¨Ø§Ù„Ù„Ù‡Ø¬Ø© Ø§Ù„Ù…ØµØ±ÙŠØ©: ${userMessage}` }],
                        }],
                    }),
                });

                const data = await response.json();
                const botMessage = data.candidates[0].content.parts[0].text;

                // Add bot message to chat
                const botMessageElement = document.createElement('div');
                botMessageElement.className = 'message bot';
                botMessageElement.textContent = botMessage;
                chatbotBody.appendChild(botMessageElement);

                // Scroll to bottom
                chatbotBody.scrollTop = chatbotBody.scrollHeight;
            } catch (error) {
                console.error('Error:', error);
                const errorMessageElement = document.createElement('div');
                errorMessageElement.className = 'message bot';
                errorMessageElement.textContent = 'Ø¹Ø°Ø±Ù‹Ø§ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù….';
                chatbotBody.appendChild(errorMessageElement);
            }
        }
    </script>
</body>
</html>
